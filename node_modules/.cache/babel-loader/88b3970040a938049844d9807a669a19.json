{"remainingRequest":"/Applications/web/vue-mpa/node_modules/babel-loader/lib/index.js!/Applications/web/vue-mpa/src/assets/js/common/pinchzoom.js","dependencies":[{"path":"/Applications/web/vue-mpa/src/assets/js/common/pinchzoom.js","mtime":1563783944679},{"path":"/Applications/web/vue-mpa/node_modules/cache-loader/dist/cjs.js","mtime":1561083984975},{"path":"/Applications/web/vue-mpa/node_modules/babel-loader/lib/index.js","mtime":1561083931133}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\n(function () {\n  'use strict';\n\n  var definePinchZoom = function definePinchZoom($) {\n    var PinchZoom = function PinchZoom(el, options) {\n      this.el = $(el);\n      this.zoomFactor = 1;\n      this.lastScale = 1;\n      this.offset = {\n        x: 0,\n        y: 0\n      };\n      this.options = $.extend({}, this.defaults, options);\n      this.setupMarkup();\n      this.bindEvents();\n      this.update();\n      this.enable();\n    },\n        sum = function sum(a, b) {\n      return a + b;\n    },\n        isCloseTo = function isCloseTo(value, expected) {\n      return value > expected - 0.01 && value < expected + 0.01;\n    };\n\n    PinchZoom.prototype = {\n      defaults: {\n        tapZoomFactor: 2,\n        zoomOutFactor: 1.3,\n        animationDuration: 300,\n        maxZoom: 4,\n        minZoom: 0.5,\n        lockDragAxis: false,\n        use2d: true,\n        zoomStartEventName: 'pz_zoomstart',\n        zoomEndEventName: 'pz_zoomend',\n        dragStartEventName: 'pz_dragstart',\n        dragEndEventName: 'pz_dragend',\n        doubleTapEventName: 'pz_doubletap'\n      },\n      handleDragStart: function handleDragStart(event) {\n        this.el.trigger(this.options.dragStartEventName);\n        this.stopAnimation();\n        this.lastDragPosition = false;\n        this.hasInteraction = true;\n        this.handleDrag(event);\n      },\n      handleDrag: function handleDrag(event) {\n        if (this.zoomFactor > 1.0) {\n          var touch = this.getTouches(event)[0];\n          this.drag(touch, this.lastDragPosition);\n          this.offset = this.sanitizeOffset(this.offset);\n          this.lastDragPosition = touch;\n        }\n      },\n      handleDragEnd: function handleDragEnd() {\n        this.el.trigger(this.options.dragEndEventName);\n        this.end();\n      },\n      handleZoomStart: function handleZoomStart(event) {\n        this.el.trigger(this.options.zoomStartEventName);\n        this.stopAnimation();\n        this.lastScale = 1;\n        this.nthZoom = 0;\n        this.lastZoomCenter = false;\n        this.hasInteraction = true;\n      },\n      handleZoom: function handleZoom(event, newScale) {\n        var touchCenter = this.getTouchCenter(this.getTouches(event)),\n            scale = newScale / this.lastScale;\n        this.lastScale = newScale;\n        this.nthZoom += 1;\n\n        if (this.nthZoom > 3) {\n          this.scale(scale, touchCenter);\n          this.drag(touchCenter, this.lastZoomCenter);\n        }\n\n        this.lastZoomCenter = touchCenter;\n      },\n      handleZoomEnd: function handleZoomEnd() {\n        this.el.trigger(this.options.zoomEndEventName);\n        this.end();\n      },\n      handleDoubleTap: function handleDoubleTap(event) {\n        var center = this.getTouches(event)[0],\n            zoomFactor = this.zoomFactor > 1 ? 1 : this.options.tapZoomFactor,\n            startZoomFactor = this.zoomFactor,\n            updateProgress = function (progress) {\n          this.scaleTo(startZoomFactor + progress * (zoomFactor - startZoomFactor), center);\n        }.bind(this);\n\n        if (this.hasInteraction) {\n          return;\n        }\n\n        if (startZoomFactor > zoomFactor) {\n          center = this.getCurrentZoomCenter();\n        }\n\n        this.animate(this.options.animationDuration, updateProgress, this.swing);\n        this.el.trigger(this.options.doubleTapEventName);\n      },\n      sanitizeOffset: function sanitizeOffset(offset) {\n        var maxX = (this.zoomFactor - 1) * this.getContainerX(),\n            maxY = (this.zoomFactor - 1) * this.getContainerY(),\n            maxOffsetX = Math.max(maxX, 0),\n            maxOffsetY = Math.max(maxY, 0),\n            minOffsetX = Math.min(maxX, 0),\n            minOffsetY = Math.min(maxY, 0);\n        return {\n          x: Math.min(Math.max(offset.x, minOffsetX), maxOffsetX),\n          y: Math.min(Math.max(offset.y, minOffsetY), maxOffsetY)\n        };\n      },\n      scaleTo: function scaleTo(zoomFactor, center) {\n        this.scale(zoomFactor / this.zoomFactor, center);\n      },\n      scale: function scale(_scale, center) {\n        _scale = this.scaleZoomFactor(_scale);\n        this.addOffset({\n          x: (_scale - 1) * (center.x + this.offset.x),\n          y: (_scale - 1) * (center.y + this.offset.y)\n        });\n      },\n      scaleZoomFactor: function scaleZoomFactor(scale) {\n        var originalZoomFactor = this.zoomFactor;\n        this.zoomFactor *= scale;\n        this.zoomFactor = Math.min(this.options.maxZoom, Math.max(this.zoomFactor, this.options.minZoom));\n        return this.zoomFactor / originalZoomFactor;\n      },\n      drag: function drag(center, lastCenter) {\n        if (lastCenter) {\n          if (this.options.lockDragAxis) {\n            if (Math.abs(center.x - lastCenter.x) > Math.abs(center.y - lastCenter.y)) {\n              this.addOffset({\n                x: -(center.x - lastCenter.x),\n                y: 0\n              });\n            } else {\n              this.addOffset({\n                y: -(center.y - lastCenter.y),\n                x: 0\n              });\n            }\n          } else {\n            this.addOffset({\n              y: -(center.y - lastCenter.y),\n              x: -(center.x - lastCenter.x)\n            });\n          }\n        }\n      },\n      getTouchCenter: function getTouchCenter(touches) {\n        return this.getVectorAvg(touches);\n      },\n      getVectorAvg: function getVectorAvg(vectors) {\n        return {\n          x: vectors.map(function (v) {\n            return v.x;\n          }).reduce(sum) / vectors.length,\n          y: vectors.map(function (v) {\n            return v.y;\n          }).reduce(sum) / vectors.length\n        };\n      },\n      addOffset: function addOffset(offset) {\n        this.offset = {\n          x: this.offset.x + offset.x,\n          y: this.offset.y + offset.y\n        };\n      },\n      sanitize: function sanitize() {\n        if (this.zoomFactor < this.options.zoomOutFactor) {\n          this.zoomOutAnimation();\n        } else if (this.isInsaneOffset(this.offset)) {\n          this.sanitizeOffsetAnimation();\n        }\n      },\n      isInsaneOffset: function isInsaneOffset(offset) {\n        var sanitizedOffset = this.sanitizeOffset(offset);\n        return sanitizedOffset.x !== offset.x || sanitizedOffset.y !== offset.y;\n      },\n      sanitizeOffsetAnimation: function sanitizeOffsetAnimation() {\n        var targetOffset = this.sanitizeOffset(this.offset),\n            startOffset = {\n          x: this.offset.x,\n          y: this.offset.y\n        },\n            updateProgress = function (progress) {\n          this.offset.x = startOffset.x + progress * (targetOffset.x - startOffset.x);\n          this.offset.y = startOffset.y + progress * (targetOffset.y - startOffset.y);\n          this.update();\n        }.bind(this);\n\n        this.animate(this.options.animationDuration, updateProgress, this.swing);\n      },\n      zoomOutAnimation: function zoomOutAnimation() {\n        var startZoomFactor = this.zoomFactor,\n            zoomFactor = 1,\n            center = this.getCurrentZoomCenter(),\n            updateProgress = function (progress) {\n          this.scaleTo(startZoomFactor + progress * (zoomFactor - startZoomFactor), center);\n        }.bind(this);\n\n        this.animate(this.options.animationDuration, updateProgress, this.swing);\n      },\n      updateAspectRatio: function updateAspectRatio() {\n        this.setContainerY(this.getContainerX() / this.getAspectRatio());\n      },\n      getInitialZoomFactor: function getInitialZoomFactor() {\n        return this.container[0].offsetWidth / this.el[0].offsetWidth;\n      },\n      getAspectRatio: function getAspectRatio() {\n        return this.el[0].offsetWidth / this.el[0].offsetHeight;\n      },\n      getCurrentZoomCenter: function getCurrentZoomCenter() {\n        var length = this.container[0].offsetWidth * this.zoomFactor,\n            offsetLeft = this.offset.x,\n            offsetRight = length - offsetLeft - this.container[0].offsetWidth,\n            widthOffsetRatio = offsetLeft / offsetRight,\n            centerX = widthOffsetRatio * this.container[0].offsetWidth / (widthOffsetRatio + 1),\n            height = this.container[0].offsetHeight * this.zoomFactor,\n            offsetTop = this.offset.y,\n            offsetBottom = height - offsetTop - this.container[0].offsetHeight,\n            heightOffsetRatio = offsetTop / offsetBottom,\n            centerY = heightOffsetRatio * this.container[0].offsetHeight / (heightOffsetRatio + 1);\n\n        if (offsetRight === 0) {\n          centerX = this.container[0].offsetWidth;\n        }\n\n        if (offsetBottom === 0) {\n          centerY = this.container[0].offsetHeight;\n        }\n\n        return {\n          x: centerX,\n          y: centerY\n        };\n      },\n      canDrag: function canDrag() {\n        return !isCloseTo(this.zoomFactor, 1);\n      },\n      getTouches: function getTouches(event) {\n        var position = this.container.offset();\n        return Array.prototype.slice.call(event.touches).map(function (touch) {\n          return {\n            x: touch.pageX - position.left,\n            y: touch.pageY - position.top\n          };\n        });\n      },\n      animate: function animate(duration, framefn, timefn, callback) {\n        var startTime = new Date().getTime(),\n            renderFrame = function () {\n          if (!this.inAnimation) {\n            return;\n          }\n\n          var frameTime = new Date().getTime() - startTime,\n              progress = frameTime / duration;\n\n          if (frameTime >= duration) {\n            framefn(1);\n\n            if (callback) {\n              callback();\n            }\n\n            this.update();\n            this.stopAnimation();\n            this.update();\n          } else {\n            if (timefn) {\n              progress = timefn(progress);\n            }\n\n            framefn(progress);\n            this.update();\n            requestAnimationFrame(renderFrame);\n          }\n        }.bind(this);\n\n        this.inAnimation = true;\n        requestAnimationFrame(renderFrame);\n      },\n      stopAnimation: function stopAnimation() {\n        this.inAnimation = false;\n      },\n      swing: function swing(p) {\n        return -Math.cos(p * Math.PI) / 2 + 0.5;\n      },\n      getContainerX: function getContainerX() {\n        return this.container[0].offsetWidth;\n      },\n      getContainerY: function getContainerY() {\n        return this.container[0].offsetHeight;\n      },\n      setContainerY: function setContainerY(y) {\n        return this.container.height(y);\n      },\n      setupMarkup: function setupMarkup() {\n        this.container = $('<div class=\"pinch-zoom-container\"></div>');\n        this.el.before(this.container);\n        this.container.append(this.el);\n        this.container.css({\n          'overflow': 'hidden',\n          'position': 'relative'\n        });\n        this.el.css({\n          '-webkit-transform-origin': '0% 0%',\n          '-moz-transform-origin': '0% 0%',\n          '-ms-transform-origin': '0% 0%',\n          '-o-transform-origin': '0% 0%',\n          'transform-origin': '0% 0%',\n          'position': 'absolute'\n        });\n      },\n      end: function end() {\n        this.hasInteraction = false;\n        this.sanitize();\n        this.update();\n      },\n      bindEvents: function bindEvents() {\n        detectGestures(this.container.get(0), this);\n        $(window).on('resize', this.update.bind(this));\n        $(this.el).find('img').on('load', this.update.bind(this));\n      },\n      update: function update() {\n        if (this.updatePlaned) {\n          return;\n        }\n\n        this.updatePlaned = true;\n        setTimeout(function () {\n          this.updatePlaned = false;\n          this.updateAspectRatio();\n\n          var zoomFactor = this.getInitialZoomFactor() * this.zoomFactor,\n              offsetX = -this.offset.x / zoomFactor,\n              offsetY = -this.offset.y / zoomFactor,\n              transform3d = 'scale3d(' + zoomFactor + ', ' + zoomFactor + ',1) ' + 'translate3d(' + offsetX + 'px,' + offsetY + 'px,0px)',\n              transform2d = 'scale(' + zoomFactor + ', ' + zoomFactor + ') ' + 'translate(' + offsetX + 'px,' + offsetY + 'px)',\n              removeClone = function () {\n            if (this.clone) {\n              this.clone.remove();\n              delete this.clone;\n            }\n          }.bind(this);\n\n          if (!this.options.use2d || this.hasInteraction || this.inAnimation) {\n            this.is3d = true;\n            removeClone();\n            this.el.css({\n              '-webkit-transform': transform3d,\n              '-o-transform': transform2d,\n              '-ms-transform': transform2d,\n              '-moz-transform': transform2d,\n              'transform': transform3d\n            });\n          } else {\n            if (this.is3d) {\n              this.clone = this.el.clone();\n              this.clone.css('pointer-events', 'none');\n              this.clone.appendTo(this.container);\n              setTimeout(removeClone, 200);\n            }\n\n            this.el.css({\n              '-webkit-transform': transform2d,\n              '-o-transform': transform2d,\n              '-ms-transform': transform2d,\n              '-moz-transform': transform2d,\n              'transform': transform2d\n            });\n            this.is3d = false;\n          }\n        }.bind(this), 0);\n      },\n      enable: function enable() {\n        this.enabled = true;\n      },\n      disable: function disable() {\n        this.enabled = false;\n      }\n    };\n\n    var detectGestures = function detectGestures(el, target) {\n      var interaction = null,\n          fingers = 0,\n          lastTouchStart = null,\n          startTouches = null,\n          setInteraction = function setInteraction(newInteraction, event) {\n        if (interaction !== newInteraction) {\n          if (interaction && !newInteraction) {\n            switch (interaction) {\n              case \"zoom\":\n                target.handleZoomEnd(event);\n                break;\n\n              case 'drag':\n                target.handleDragEnd(event);\n                break;\n            }\n          }\n\n          switch (newInteraction) {\n            case 'zoom':\n              target.handleZoomStart(event);\n              break;\n\n            case 'drag':\n              target.handleDragStart(event);\n              break;\n          }\n        }\n\n        interaction = newInteraction;\n      },\n          updateInteraction = function updateInteraction(event) {\n        if (fingers === 2) {\n          setInteraction('zoom');\n        } else if (fingers === 1 && target.canDrag()) {\n          setInteraction('drag', event);\n        } else {\n          setInteraction(null, event);\n        }\n      },\n          targetTouches = function targetTouches(touches) {\n        return Array.prototype.slice.call(touches).map(function (touch) {\n          return {\n            x: touch.pageX,\n            y: touch.pageY\n          };\n        });\n      },\n          getDistance = function getDistance(a, b) {\n        var x, y;\n        x = a.x - b.x;\n        y = a.y - b.y;\n        return Math.sqrt(x * x + y * y);\n      },\n          calculateScale = function calculateScale(startTouches, endTouches) {\n        var startDistance = getDistance(startTouches[0], startTouches[1]),\n            endDistance = getDistance(endTouches[0], endTouches[1]);\n        return endDistance / startDistance;\n      },\n          cancelEvent = function cancelEvent(event) {\n        event.stopPropagation();\n        event.preventDefault();\n      },\n          detectDoubleTap = function detectDoubleTap(event) {\n        var time = new Date().getTime();\n\n        if (fingers > 1) {\n          lastTouchStart = null;\n        }\n\n        if (time - lastTouchStart < 300) {\n          cancelEvent(event);\n          target.handleDoubleTap(event);\n\n          switch (interaction) {\n            case \"zoom\":\n              target.handleZoomEnd(event);\n              break;\n\n            case 'drag':\n              target.handleDragEnd(event);\n              break;\n          }\n        }\n\n        if (fingers === 1) {\n          lastTouchStart = time;\n        }\n      },\n          firstMove = true;\n\n      el.addEventListener('touchstart', function (event) {\n        if (target.enabled) {\n          firstMove = true;\n          fingers = event.touches.length;\n          detectDoubleTap(event);\n        }\n      });\n      el.addEventListener('touchmove', function (event) {\n        if (target.enabled) {\n          if (firstMove) {\n            updateInteraction(event);\n\n            if (interaction) {\n              cancelEvent(event);\n            }\n\n            startTouches = targetTouches(event.touches);\n          } else {\n            switch (interaction) {\n              case 'zoom':\n                target.handleZoom(event, calculateScale(startTouches, targetTouches(event.touches)));\n                break;\n\n              case 'drag':\n                target.handleDrag(event);\n                break;\n            }\n\n            if (interaction) {\n              cancelEvent(event);\n              target.update();\n            }\n          }\n\n          firstMove = false;\n        }\n      });\n      el.addEventListener('touchend', function (event) {\n        if (target.enabled) {\n          fingers = event.touches.length;\n          updateInteraction(event);\n        }\n      });\n    };\n\n    return PinchZoom;\n  };\n\n  if (typeof define !== 'undefined' && define.amd) {\n    define(['jquery'], function ($) {\n      return definePinchZoom($);\n    });\n  } else {\n    window.RTP = window.RTP || {};\n    window.RTP.PinchZoom = definePinchZoom(window.$);\n  }\n}).call(this);",{"version":3,"sources":["/Applications/web/vue-mpa/src/assets/js/common/pinchzoom.js"],"names":["definePinchZoom","$","PinchZoom","el","options","zoomFactor","lastScale","offset","x","y","extend","defaults","setupMarkup","bindEvents","update","enable","sum","a","b","isCloseTo","value","expected","prototype","tapZoomFactor","zoomOutFactor","animationDuration","maxZoom","minZoom","lockDragAxis","use2d","zoomStartEventName","zoomEndEventName","dragStartEventName","dragEndEventName","doubleTapEventName","handleDragStart","event","trigger","stopAnimation","lastDragPosition","hasInteraction","handleDrag","touch","getTouches","drag","sanitizeOffset","handleDragEnd","end","handleZoomStart","nthZoom","lastZoomCenter","handleZoom","newScale","touchCenter","getTouchCenter","scale","handleZoomEnd","handleDoubleTap","center","startZoomFactor","updateProgress","progress","scaleTo","bind","getCurrentZoomCenter","animate","swing","maxX","getContainerX","maxY","getContainerY","maxOffsetX","Math","max","maxOffsetY","minOffsetX","min","minOffsetY","scaleZoomFactor","addOffset","originalZoomFactor","lastCenter","abs","touches","getVectorAvg","vectors","map","v","reduce","length","sanitize","zoomOutAnimation","isInsaneOffset","sanitizeOffsetAnimation","sanitizedOffset","targetOffset","startOffset","updateAspectRatio","setContainerY","getAspectRatio","getInitialZoomFactor","container","offsetWidth","offsetHeight","offsetLeft","offsetRight","widthOffsetRatio","centerX","height","offsetTop","offsetBottom","heightOffsetRatio","centerY","canDrag","position","Array","slice","call","pageX","left","pageY","top","duration","framefn","timefn","callback","startTime","Date","getTime","renderFrame","inAnimation","frameTime","requestAnimationFrame","p","cos","PI","before","append","css","detectGestures","get","window","on","find","updatePlaned","setTimeout","offsetX","offsetY","transform3d","transform2d","removeClone","clone","remove","is3d","appendTo","enabled","disable","target","interaction","fingers","lastTouchStart","startTouches","setInteraction","newInteraction","updateInteraction","targetTouches","getDistance","sqrt","calculateScale","endTouches","startDistance","endDistance","cancelEvent","stopPropagation","preventDefault","detectDoubleTap","time","firstMove","addEventListener","define","amd","RTP"],"mappings":"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","sourcesContent":["(function(){'use strict';var definePinchZoom=function($){var PinchZoom=function(el,options){this.el=$(el);this.zoomFactor=1;this.lastScale=1;this.offset={x:0,y:0};this.options=$.extend({},this.defaults,options);this.setupMarkup();this.bindEvents();this.update();this.enable();},sum=function(a,b){return a+b;},isCloseTo=function(value,expected){return value>expected-0.01&&value<expected+0.01;};PinchZoom.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,maxZoom:4,minZoom:0.5,lockDragAxis:false,use2d:true,zoomStartEventName:'pz_zoomstart',zoomEndEventName:'pz_zoomend',dragStartEventName:'pz_dragstart',dragEndEventName:'pz_dragend',doubleTapEventName:'pz_doubletap'},handleDragStart:function(event){this.el.trigger(this.options.dragStartEventName);this.stopAnimation();this.lastDragPosition=false;this.hasInteraction=true;this.handleDrag(event);},handleDrag:function(event){if(this.zoomFactor>1.0){var touch=this.getTouches(event)[0];this.drag(touch,this.lastDragPosition);this.offset=this.sanitizeOffset(this.offset);this.lastDragPosition=touch;}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName);this.end();},handleZoomStart:function(event){this.el.trigger(this.options.zoomStartEventName);this.stopAnimation();this.lastScale=1;this.nthZoom=0;this.lastZoomCenter=false;this.hasInteraction=true;},handleZoom:function(event,newScale){var touchCenter=this.getTouchCenter(this.getTouches(event)),scale=newScale/this.lastScale;this.lastScale=newScale;this.nthZoom+=1;if(this.nthZoom>3){this.scale(scale,touchCenter);this.drag(touchCenter,this.lastZoomCenter);}\r\nthis.lastZoomCenter=touchCenter;},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName);this.end();},handleDoubleTap:function(event){var center=this.getTouches(event)[0],zoomFactor=this.zoomFactor>1?1:this.options.tapZoomFactor,startZoomFactor=this.zoomFactor,updateProgress=(function(progress){this.scaleTo(startZoomFactor+progress*(zoomFactor-startZoomFactor),center);}).bind(this);if(this.hasInteraction){return;}\r\nif(startZoomFactor>zoomFactor){center=this.getCurrentZoomCenter();}\r\nthis.animate(this.options.animationDuration,updateProgress,this.swing);this.el.trigger(this.options.doubleTapEventName);},sanitizeOffset:function(offset){var maxX=(this.zoomFactor-1)*this.getContainerX(),maxY=(this.zoomFactor-1)*this.getContainerY(),maxOffsetX=Math.max(maxX,0),maxOffsetY=Math.max(maxY,0),minOffsetX=Math.min(maxX,0),minOffsetY=Math.min(maxY,0);return{x:Math.min(Math.max(offset.x,minOffsetX),maxOffsetX),y:Math.min(Math.max(offset.y,minOffsetY),maxOffsetY)};},scaleTo:function(zoomFactor,center){this.scale(zoomFactor/this.zoomFactor,center);},scale:function(scale,center){scale=this.scaleZoomFactor(scale);this.addOffset({x:(scale-1)*(center.x+this.offset.x),y:(scale-1)*(center.y+this.offset.y)});},scaleZoomFactor:function(scale){var originalZoomFactor=this.zoomFactor;this.zoomFactor*=scale;this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom));return this.zoomFactor/originalZoomFactor;},drag:function(center,lastCenter){if(lastCenter){if(this.options.lockDragAxis){if(Math.abs(center.x-lastCenter.x)>Math.abs(center.y-lastCenter.y)){this.addOffset({x:-(center.x-lastCenter.x),y:0});}\r\nelse{this.addOffset({y:-(center.y-lastCenter.y),x:0});}}\r\nelse{this.addOffset({y:-(center.y-lastCenter.y),x:-(center.x-lastCenter.x)});}}},getTouchCenter:function(touches){return this.getVectorAvg(touches);},getVectorAvg:function(vectors){return{x:vectors.map(function(v){return v.x;}).reduce(sum)/vectors.length,y:vectors.map(function(v){return v.y;}).reduce(sum)/vectors.length};},addOffset:function(offset){this.offset={x:this.offset.x+offset.x,y:this.offset.y+offset.y};},sanitize:function(){if(this.zoomFactor<this.options.zoomOutFactor){this.zoomOutAnimation();}else if(this.isInsaneOffset(this.offset)){this.sanitizeOffsetAnimation();}},isInsaneOffset:function(offset){var sanitizedOffset=this.sanitizeOffset(offset);return sanitizedOffset.x!==offset.x||sanitizedOffset.y!==offset.y;},sanitizeOffsetAnimation:function(){var targetOffset=this.sanitizeOffset(this.offset),startOffset={x:this.offset.x,y:this.offset.y},updateProgress=(function(progress){this.offset.x=startOffset.x+progress*(targetOffset.x-startOffset.x);this.offset.y=startOffset.y+progress*(targetOffset.y-startOffset.y);this.update();}).bind(this);this.animate(this.options.animationDuration,updateProgress,this.swing);},zoomOutAnimation:function(){var startZoomFactor=this.zoomFactor,zoomFactor=1,center=this.getCurrentZoomCenter(),updateProgress=(function(progress){this.scaleTo(startZoomFactor+progress*(zoomFactor-startZoomFactor),center);}).bind(this);this.animate(this.options.animationDuration,updateProgress,this.swing);},updateAspectRatio:function(){this.setContainerY(this.getContainerX()/this.getAspectRatio());},getInitialZoomFactor:function(){return this.container[0].offsetWidth/this.el[0].offsetWidth;},getAspectRatio:function(){return this.el[0].offsetWidth/this.el[0].offsetHeight;},getCurrentZoomCenter:function(){var length=this.container[0].offsetWidth*this.zoomFactor,offsetLeft=this.offset.x,offsetRight=length-offsetLeft-this.container[0].offsetWidth,widthOffsetRatio=offsetLeft/offsetRight,centerX=widthOffsetRatio*this.container[0].offsetWidth/(widthOffsetRatio+1),height=this.container[0].offsetHeight*this.zoomFactor,offsetTop=this.offset.y,offsetBottom=height-offsetTop-this.container[0].offsetHeight,heightOffsetRatio=offsetTop/offsetBottom,centerY=heightOffsetRatio*this.container[0].offsetHeight/(heightOffsetRatio+1);if(offsetRight===0){centerX=this.container[0].offsetWidth;}\r\nif(offsetBottom===0){centerY=this.container[0].offsetHeight;}\r\nreturn{x:centerX,y:centerY};},canDrag:function(){return!isCloseTo(this.zoomFactor,1);},getTouches:function(event){var position=this.container.offset();return Array.prototype.slice.call(event.touches).map(function(touch){return{x:touch.pageX-position.left,y:touch.pageY-position.top};});},animate:function(duration,framefn,timefn,callback){var startTime=new Date().getTime(),renderFrame=(function(){if(!this.inAnimation){return;}\r\nvar frameTime=new Date().getTime()-startTime,progress=frameTime/duration;if(frameTime>=duration){framefn(1);if(callback){callback();}\r\nthis.update();this.stopAnimation();this.update();}else{if(timefn){progress=timefn(progress);}\r\nframefn(progress);this.update();requestAnimationFrame(renderFrame);}}).bind(this);this.inAnimation=true;requestAnimationFrame(renderFrame);},stopAnimation:function(){this.inAnimation=false;},swing:function(p){return-Math.cos(p*Math.PI)/2+0.5;},getContainerX:function(){return this.container[0].offsetWidth;},getContainerY:function(){return this.container[0].offsetHeight;},setContainerY:function(y){return this.container.height(y);},setupMarkup:function(){this.container=$('<div class=\"pinch-zoom-container\"></div>');this.el.before(this.container);this.container.append(this.el);this.container.css({'overflow':'hidden','position':'relative'});this.el.css({'-webkit-transform-origin':'0% 0%','-moz-transform-origin':'0% 0%','-ms-transform-origin':'0% 0%','-o-transform-origin':'0% 0%','transform-origin':'0% 0%','position':'absolute'});},end:function(){this.hasInteraction=false;this.sanitize();this.update();},bindEvents:function(){detectGestures(this.container.get(0),this);$(window).on('resize',this.update.bind(this));$(this.el).find('img').on('load',this.update.bind(this));},update:function(){if(this.updatePlaned){return;}\r\nthis.updatePlaned=true;setTimeout((function(){this.updatePlaned=false;this.updateAspectRatio();var zoomFactor=this.getInitialZoomFactor()*this.zoomFactor,offsetX=-this.offset.x/zoomFactor,offsetY=-this.offset.y/zoomFactor,transform3d='scale3d('+zoomFactor+', '+zoomFactor+',1) '+\r\n'translate3d('+offsetX+'px,'+offsetY+'px,0px)',transform2d='scale('+zoomFactor+', '+zoomFactor+') '+\r\n'translate('+offsetX+'px,'+offsetY+'px)',removeClone=(function(){if(this.clone){this.clone.remove();delete this.clone;}}).bind(this);if(!this.options.use2d||this.hasInteraction||this.inAnimation){this.is3d=true;removeClone();this.el.css({'-webkit-transform':transform3d,'-o-transform':transform2d,'-ms-transform':transform2d,'-moz-transform':transform2d,'transform':transform3d});}else{if(this.is3d){this.clone=this.el.clone();this.clone.css('pointer-events','none');this.clone.appendTo(this.container);setTimeout(removeClone,200);}\r\nthis.el.css({'-webkit-transform':transform2d,'-o-transform':transform2d,'-ms-transform':transform2d,'-moz-transform':transform2d,'transform':transform2d});this.is3d=false;}}).bind(this),0);},enable:function(){this.enabled=true;},disable:function(){this.enabled=false;}};var detectGestures=function(el,target){var interaction=null,fingers=0,lastTouchStart=null,startTouches=null,setInteraction=function(newInteraction,event){if(interaction!==newInteraction){if(interaction&&!newInteraction){switch(interaction){case \"zoom\":target.handleZoomEnd(event);break;case 'drag':target.handleDragEnd(event);break;}}\r\nswitch(newInteraction){case 'zoom':target.handleZoomStart(event);break;case 'drag':target.handleDragStart(event);break;}}\r\ninteraction=newInteraction;},updateInteraction=function(event){if(fingers===2){setInteraction('zoom');}else if(fingers===1&&target.canDrag()){setInteraction('drag',event);}else{setInteraction(null,event);}},targetTouches=function(touches){return Array.prototype.slice.call(touches).map(function(touch){return{x:touch.pageX,y:touch.pageY};});},getDistance=function(a,b){var x,y;x=a.x-b.x;y=a.y-b.y;return Math.sqrt(x*x+y*y);},calculateScale=function(startTouches,endTouches){var startDistance=getDistance(startTouches[0],startTouches[1]),endDistance=getDistance(endTouches[0],endTouches[1]);return endDistance/startDistance;},cancelEvent=function(event){event.stopPropagation();event.preventDefault();},detectDoubleTap=function(event){var time=(new Date()).getTime();if(fingers>1){lastTouchStart=null;}\r\nif(time-lastTouchStart<300){cancelEvent(event);target.handleDoubleTap(event);switch(interaction){case \"zoom\":target.handleZoomEnd(event);break;case 'drag':target.handleDragEnd(event);break;}}\r\nif(fingers===1){lastTouchStart=time;}},firstMove=true;el.addEventListener('touchstart',function(event){if(target.enabled){firstMove=true;fingers=event.touches.length;detectDoubleTap(event);}});el.addEventListener('touchmove',function(event){if(target.enabled){if(firstMove){updateInteraction(event);if(interaction){cancelEvent(event);}\r\nstartTouches=targetTouches(event.touches);}else{switch(interaction){case 'zoom':target.handleZoom(event,calculateScale(startTouches,targetTouches(event.touches)));break;case 'drag':target.handleDrag(event);break;}\r\nif(interaction){cancelEvent(event);target.update();}}\r\nfirstMove=false;}});el.addEventListener('touchend',function(event){if(target.enabled){fingers=event.touches.length;updateInteraction(event);}});};return PinchZoom;};if(typeof define!=='undefined'&&define.amd){define(['jquery'],function($){return definePinchZoom($);});}else{window.RTP=window.RTP||{};window.RTP.PinchZoom=definePinchZoom(window.$);}}).call(this);"]}]}